(()=>{"use strict";const e=document.querySelector("#new-task"),t=document.querySelector(".list-name"),n=document.querySelector(".view-main"),l=function(l){let a=l,s=[],i=e=>{s.splice(e,1),c()},c=()=>{n.innerHTML="",t.innerText=a,s.forEach((e=>{e.DisplayTask(n,i)}));let l=document.createElement("div");l.classList.add("emptytaskcontainer");let c=document.createElement("button");c.innerText="+",l.append(c),c.addEventListener("click",(()=>e.showModal())),n.append(l)};return{AddTask:e=>{s.push(function(e){let t=e,n=!1;return{taskName:t,ChangeStatus:()=>{n=!n},DisplayTask:(e,n)=>{let l=document.createElement("div");l.classList.add("taskcontainer");let a=document.createElement("p");a.innerText=t,l.append(a),e.append(l)}}}(e)),console.log(e,a),c()},DeleteTask:i,DisplayMain:(e,t,n,l)=>{let s=document.createElement("div");s.classList.add("listcontainer");let i=document.createElement("p");i.innerText=a;let c=document.createElement("button");c.innerHTML='<span class="material-symbols-outlined">\n        delete\n        </span>',c.addEventListener("click",(()=>{t(l)}));let r=document.createElement("button");r.innerHTML='<span class="material-symbols-outlined">\n        edit\n        </span>',r.addEventListener("click",(()=>{n(l)}));let o=document.createElement("div");o.append(r,c),s.append(i,o),e.append(s)},DisplayAllTasks:c}},a=document.querySelector("#new-task"),s=document.querySelector("#new-list"),i=document.querySelector(".navbar-main"),c=function(){const e=[];let t=null,n=n=>{e.push(l(n)),t=e.length-1,o()},c=n=>{n==t&&(t=0),e.splice(n,1),o()},r=e=>{e!=t&&(t=e,o())},o=()=>{i.innerHTML="",e.forEach(((e,t)=>{e.DisplayMain(i,c,r,t)})),e.length>0&&e[t].DisplayAllTasks()};return{Initialize:()=>{document.querySelector("#new-list-button").addEventListener("click",(()=>s.showModal()));const l=document.querySelector("#new-list-form");l.addEventListener("submit",(e=>{e.preventDefault(),s.close();const t=Object.fromEntries(new FormData(l));n(t.listTitle),l.reset()}));const i=document.querySelector("#new-task-form");i.addEventListener("submit",(n=>{n.preventDefault(),a.close();const l=Object.fromEntries(new FormData(i));e[t].AddTask(l.taskTitle),i.reset()})),o()},AddList:n,DeleteList:c,DisplayAllLists:o}}();c.Initialize(),c.AddList("Default")})();