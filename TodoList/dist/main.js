(()=>{"use strict";const e=document.querySelector("#new-task"),t=document.querySelector(".list-name"),n=document.querySelector(".view-main"),a=function(a){let l=a,s=[],i=e=>{s.push(function(e){let t=e,n=!1,a=()=>{n=!n};return{taskName:t,ChangeStatus:a,DisplayTask:(e,l,s,i)=>{let c=document.createElement("div");c.classList.add("taskcontainer"),n&&c.classList.add("taskdone");let r=document.createElement("p");r.innerText=t;let o=document.createElement("button");o.innerHTML='<span class="material-symbols-outlined">\n        done\n        </span>',o.addEventListener("click",(()=>{a(),i()}));let d=document.createElement("button");d.innerHTML='<span class="material-symbols-outlined">\n        close\n        </span>',d.addEventListener("click",(()=>l(s)));let u=document.createElement("div");u.append(o,d),c.append(r,u),e.append(c)}}}(e)),console.log(e,l),r()},c=e=>{s.splice(e,1),r()},r=()=>{n.innerHTML="",t.innerText=l,s.forEach(((e,t)=>{e.DisplayTask(n,c,t,r)}));let a=document.createElement("div");a.classList.add("emptytaskcontainer");let i=document.createElement("button");i.innerText="+",a.append(i),i.addEventListener("click",(()=>e.showModal())),n.append(a)};return i("Test"),{AddTask:i,DeleteTask:c,DisplayMain:(e,t,n,a)=>{let s=document.createElement("div");s.classList.add("listcontainer");let i=document.createElement("p");i.innerText=l;let c=document.createElement("button");c.innerHTML='<span class="material-symbols-outlined">\n        delete\n        </span>',c.addEventListener("click",(()=>{t(a)}));let r=document.createElement("button");r.innerHTML='<span class="material-symbols-outlined">\n        edit\n        </span>',r.addEventListener("click",(()=>{n(a)}));let o=document.createElement("div");o.append(r,c),s.append(i,o),e.append(s)},DisplayAllTasks:r}},l=document.querySelector("#new-task"),s=document.querySelector("#new-list"),i=document.querySelector(".navbar-main"),c=document.querySelector(".view-main"),r=document.querySelector(".list-name"),o=function(){const e=[];let t=null,n=n=>{e.push(a(n)),t=e.length-1,u()},o=n=>{n==t?t=0:n<t&&t--,e.splice(n,1),u()},d=e=>{e!=t&&(t=e,u())},u=()=>{i.innerHTML="",e.forEach(((e,t)=>{e.DisplayMain(i,o,d,t)})),e.length>0?e[t].DisplayAllTasks():(c.innerHTML="",r.innerText="Create a list")};return{Initialize:()=>{document.querySelector("#new-list-button").addEventListener("click",(()=>s.showModal()));const a=document.querySelector("#new-list-form");a.addEventListener("submit",(e=>{e.preventDefault(),s.close();const t=Object.fromEntries(new FormData(a));n(t.listTitle),a.reset()}));const i=document.querySelector("#new-task-form");i.addEventListener("submit",(n=>{n.preventDefault(),l.close();const a=Object.fromEntries(new FormData(i));e[t].AddTask(a.taskTitle),i.reset()})),u()},AddList:n,DeleteList:o,DisplayAllLists:u}}();o.Initialize(),o.AddList("Default")})();